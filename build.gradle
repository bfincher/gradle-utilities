    buildscript {
        repositories {
            maven {
                url "https://plugins.gradle.org/m2/"
            }
        }

        dependencies {
            classpath "net.researchgate:gradle-release:2.8.1"
        }
    }

allprojects {
    group = 'fincher'
}

subprojects {


    apply plugin: 'java-gradle-plugin'
    apply plugin: 'maven-publish'
    apply plugin: 'eclipse'

    java {
    	toolchain {
        	languageVersion = JavaLanguageVersion.of(11)
    	}
	}

    repositories {
        mavenLocal()
        if (project.hasProperty('localNexus')) {
            maven {
                url "${localNexus}"
            }
        } else {
            mavenCentral()
        }
    }
	
    publishing {
        repositories {
            maven {
                if (project.hasProperty("publishUsername") && project.hasProperty("publishPassword")) { 
                    credentials {
                        username = "${publishUsername}"
                        password = "${publishPassword}"
                    }
		
                    if (project.version.endsWith('-SNAPSHOT')) {
                        url "${publishSnapshotUrl}"
                    } else {
                        url "${publishReleaseUrl}"
                    }

                    authentication {
                        basic(BasicAuthentication)
                    }
                }
            }
        }
    }
    
    /*
    eclipse {
    	classpath {
    		downloadSources=true
    		downloadJavadoc=true
    	}
    }
    */
}
